<html>

<head>
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.bundle.min.js" integrity="sha256-VNbX9NjQNRW+Bk02G/RO6WiTKuhncWI4Ey7LkSbE+5s=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js" integrity="sha256-SiHXR50l06UwJvHhFY4e5vzwq75vEHH+8fFNpkXePr0=" crossorigin="anonymous"></script>

<script src="javascript/hammerjs/hammer.min.js"></script>
<script src="javascript/chartjs-plugin-zoom/chartjs-plugin-zoom.min.js"></script>

<link href="css/nouislider/nouislider.min.css" rel="stylesheet">
<script src="javascript/nouislider/nouislider.min.js"></script>

<link href="css/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet">
<script src="javascript/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>

<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment-with-locales.min.js"></script>

<link href="css/custom.css" rel="stylesheet">
<script src="javascript/plot.js"></script>
<script src="javascript/loading.js"></script>

<title>
	Merged Bad Channels Tool
</title>

<body>

<div class="panel-group">
	<div class="jumbotron">
		<div class="container">

			<div class="row">
				<div class="col-md-8">

					<div class="panel-group module-selection" id="detectorAccordion">
					  	<div class="panel panel-primary">
						    <div class="panel-heading">
						    	<div class="panel-heading-group">
						      		<div class="checkbox panel-title">
			  							<label><input type="checkbox" id="module38"></label>
							  		</div>
								    <h4 class="panel-title">
								    	<a data-toggle="collapse" href="#stripTab" data-parent="#detectorAccordion">Strip</a>
								    </h4>
						      	</div>
						    </div>
						    <div id="stripTab" class="panel-collapse collapse in">
						    	<div class="panel-body">
							      	<div class="row">
								      	<div class="col-md-3">
											<div class="panel-group">
											  	<div class="panel panel-default">
											    	<div class="panel-heading">
											    		<div class="panel-heading-group">
															<div class="checkbox panel-title">
																<label><input type="checkbox" id="module37"></label>
															</div>
												      		<h4 class="panel-title">
												        		<a data-toggle="collapse" href="#tibTab">TIB</a>
												      		</h4>
											      		</div>
											    	</div>
											    	<div id="tibTab" class="panel-collapse collapse">
											      		<div class="panel-body">
											      			<label><input type="checkbox" id="module33"> TIB Layer 1</label>
											      			<label><input type="checkbox" id="module32"> TIB Layer 2</label>
											      			<label><input type="checkbox" id="module31"> TIB Layer 3</label>
											      			<label><input type="checkbox" id="module30"> TIB Layer 4</label>
											      		</div>
											    	</div>
											  	</div>
											</div> 			      	
								      	</div>
								      	<div class="col-md-3">
								      		<div class="panel-group">
											    <div class="panel panel-default">
												    <div class="panel-heading">
												    	<div class="panel-heading-group">
															<div class="checkbox panel-title">
																<label><input type="checkbox" id="module36"></label>
															</div>						    
													        <h4 class="panel-title">
													        	<a data-toggle="collapse" href="#tidTab">TID</a>
													        </h4>
												        </div>
												    </div>
												    <div id="tidTab" class="panel-collapse collapse">
												        <div class="panel-body">
													      	<label><input type="checkbox" id="module29"> TID+ Disk 1</label>
													      	<label><input type="checkbox" id="module28"> TID+ Disk 2</label>
													      	<label><input type="checkbox" id="module27"> TID+ Disk 3</label>
													      	<hr/>
													      	<label><input type="checkbox" id="module26"> TID- Disk 1</label>
													      	<label><input type="checkbox" id="module25"> TID- Disk 2</label>
													      	<label><input type="checkbox" id="module24"> TID- Disk 3</label>
												        </div>
												    </div>
											    </div>
											</div>
								      	</div>
								      	<div class="col-md-3">
								      		<div class="panel-group">
											    <div class="panel panel-default">
												    <div class="panel-heading">
												    	<div class="panel-heading-group">
															<div class="checkbox panel-title">
																<label><input type="checkbox" id="module35"></label>
															</div>						    
													        <h4 class="panel-title">
													        	<a data-toggle="collapse" href="#tobTab">TOB</a>
													        </h4>
												        </div>
												    </div>
												    <div id="tobTab" class="panel-collapse collapse">
												        <div class="panel-body">
												        	<label><input type="checkbox" id="module23"> TOB Layer 1</label>
												        	<label><input type="checkbox" id="module22"> TOB Layer 2</label>
												        	<label><input type="checkbox" id="module21"> TOB Layer 3</label>
												        	<label><input type="checkbox" id="module20"> TOB Layer 4</label>
												        	<label><input type="checkbox" id="module19"> TOB Layer 5</label>
												        	<label><input type="checkbox" id="module18"> TOB Layer 6</label>
												        </div>
												    </div>
											    </div>
											</div>
								      	</div>
								      	<div class="col-md-3">
								      		<div class="panel-group">
											    <div class="panel panel-default">
												    <div class="panel-heading">
												    	<div class="panel-heading-group">
															<div class="checkbox panel-title">
																<label><input type="checkbox" id="module34"></label>
															</div>						    
													        <h4 class="panel-title">
													        	<a data-toggle="collapse" href="#tecTab">TEC</a>
													        </h4>
												        </div>
												    </div>
												    <div id="tecTab" class="panel-collapse collapse">
												      	<div class="panel-body">
												      		<label><input type="checkbox" id="module17"> TEC+ DISK 1</label>
												      		<label><input type="checkbox" id="module16"> TEC+ DISK 2</label>
												      		<label><input type="checkbox" id="module15"> TEC+ DISK 3</label>
												      		<label><input type="checkbox" id="module14"> TEC+ DISK 4</label>
												      		<label><input type="checkbox" id="module13"> TEC+ DISK 5</label>
												      		<label><input type="checkbox" id="module12"> TEC+ DISK 6</label>
												      		<label><input type="checkbox" id="module11"> TEC+ DISK 7</label>
												      		<label><input type="checkbox" id="module10"> TEC+ DISK 8</label>
												      		<label><input type="checkbox" id="module09"> TEC+ DISK 9</label>
												      		<hr/>
												      		<label><input type="checkbox" id="module08"> TEC- DISK 1</label>
												      		<label><input type="checkbox" id="module07"> TEC- DISK 2</label>
												      		<label><input type="checkbox" id="module06"> TEC- DISK 3</label>
												      		<label><input type="checkbox" id="module05"> TEC- DISK 4</label>
												      		<label><input type="checkbox" id="module04"> TEC- DISK 5</label>
												      		<label><input type="checkbox" id="module03"> TEC- DISK 6</label>
												      		<label><input type="checkbox" id="module02"> TEC- DISK 7</label>
												      		<label><input type="checkbox" id="module01"> TEC- DISK 8</label>
												      		<label><input type="checkbox" id="module00"> TEC- DISK 9</label>
												      	</div>
												    </div>
											    </div>
											</div>
								      	</div>
							        </div>
						        </div>
					    	</div>
					   <!--  <div class="panel-footer"><button class="btn btn-block" id="collapse-children"><span class="glyphicon glyphicon-menu-up"></span> Collapse innermost children <span class="glyphicon glyphicon-menu-up"></span></button></div> -->
					   </div>

						<div class="panel panel-primary">
							<div class="panel-heading">
								<div class="panel-heading-group">
									<div class="checkbox panel-title">
				  						<label><input type="checkbox" id="module60"></label>
								  	</div>
									<h4 class="panel-title">
										<a data-toggle="collapse" data-parent="#detectorAccordion" href="#pixelTab">Pixel (clusters)</a>
									</h4>
								</div>
							</div>
							<div id="pixelTab" class="panel-collapse collapse">
								<div class="panel-body">
									<div class="row">

										<div class="col-md-4">
											<div class="panel-group">
											  	<div class="panel panel-default">
											    	<div class="panel-heading">
											    		<div class="panel-heading-group">
															<div class="checkbox panel-title">
																<label><input type="checkbox" id="module59"></label>
															</div>
												      		<h4 class="panel-title">
												        		<a data-toggle="collapse" href="#barrelTab">Barrel</a>
												      		</h4>
											      		</div>
											    	</div>
											    	<div id="barrelTab" class="panel-collapse collapse in">
											      		<div class="panel-body">
											      			<label><input type="checkbox" id="module58"> Barrel Layer 1</label>
											      			<label><input type="checkbox" id="module57"> Barrel Layer 2</label>
											      			<label><input type="checkbox" id="module56"> Barrel Layer 3</label>
											      			<label><input type="checkbox" id="module55"> Barrel Layer 4</label>
											      		</div>
											    	</div>
											  	</div>
											</div>
										</div>
										<div class="col-md-8">
											<div class="panel-group">
											  	<div class="panel panel-default">
											    	<div class="panel-heading">
											    		<div class="panel-heading-group">
															<div class="checkbox panel-title">
																<label><input type="checkbox" id="module54"></label>
															</div>
												      		<h4 class="panel-title">
												        		<a data-toggle="collapse" href="#endcapTab">Endcap</a>
												      		</h4>
											      		</div>
											    	</div>
											    	<div id="endcapTab" class="panel-collapse collapse in">
											      		<div class="panel-body">

											      			<div class="row">
											      				<div class="col-md-6">
											      					<label><input type="checkbox" id="module53"> Ring 1 Disk- 1</label>
													      			<label><input type="checkbox" id="module52"> Ring 1 Disk- 2</label>
													      			<label><input type="checkbox" id="module51"> Ring 1 Disk- 3</label>
											      				</div>
											      				<div class="col-md-6">
											      					<label><input type="checkbox" id="module50"> Ring 1 Disk+ 1</label>
													      			<label><input type="checkbox" id="module49"> Ring 1 Disk+ 2</label>
													      			<label><input type="checkbox" id="module48"> Ring 1 Disk+ 3</label>
											      				</div>
											      			</div>
											      			<hr/>
											      			<div class="row">
											      				<div class="col-md-6">
											      					<label><input type="checkbox" id="module47"> Ring 2 Disk- 1</label>
													      			<label><input type="checkbox" id="module46"> Ring 2 Disk- 2</label>
													      			<label><input type="checkbox" id="module45"> Ring 2 Disk- 3</label>
											      				</div>
											      				<div class="col-md-6">
											      					<label><input type="checkbox" id="module44"> Ring 2 Disk+ 1</label>
													      			<label><input type="checkbox" id="module43"> Ring 2 Disk+ 2</label>
													      			<label><input type="checkbox" id="module42"> Ring 2 Disk+ 3</label>
											      				</div>
											      			</div>
											    
											      		</div>
											    	</div>
											  	</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div> 
				</div>
				<div class="col-md-4">
					<div class="panel panel-primary option-selection">
					    <div class="panel-heading">
					    	Options
					    	<div id="expertModeSwitchContainer">
						    	<label class="checkbox-inline">
						    		<input data-toggle="toggle" type="checkbox" id="expertModeToggle" data-on="Expert mode: ON" data-off="Expert mode: OFF", data-size="mini" data-onstyle="danger" data-offstyle="primary" data-width="150">
						    	</label>
					    	</div>
					    </div>
					    <div class="panel-body">

						    <div id="userDataPickingPanelBody">

						    	<label class="checkbox-inline">
						    		<input data-toggle="toggle" type="checkbox" data-on="Run" data-off="<span class='glyphicon glyphicon-calendar'></span> Time" data-size="small" id="runDateToggle" data-onstyle="primary" data-offstyle="info">
						    	</label>						    	

						    	<div id="runPicker">
							    	<div class="form-inline" id="runRangePicker">
							    		<div class="form-group">
							    			<input class="form-control" id="runMin" type="text" placeholder="RUN MIN">
							    		</div>
							    		<div class="form-group">
							    			<input class="form-control" id="runMax" type="text" placeholder="RUN MAX">
							    		</div>

							    		<div id="slider"></div>
							    	</div>

									<div class="input-daterange input-group" id="datePicker">
								        <input type="text" class="form-control" name="start" placeholder="DATE START" id="dateStart"/>
								        <span class="input-group-addon">to</span>
								        <input type="text" class="form-control" name="end" placeholder="DATE END" id="dateEnd" />
								    </div>
							    </div>
							</div>
							<div id = "expertDataPickingPanelBody">
								<label for="expertQuery">Query:</label>
								<textarea class="form-control" rows="5" id="expertQuery" placeholder="where r.runnumber between 290000 and 295000 and r.pixel_present = 1 and r.tracker_present = 1"></textarea>
								<div id="expertHelpSection">
									Need help with running custom queries? Visit: 
									<a href="http://runregistry.web.cern.ch/runregistry/" target="_blank">Run Registry</a> or 
									<a href="https://twiki.cern.ch/twiki/bin/view/CMS/DqmRrApi" target="_blank">TWiki</a>
								</div>
							</div>
					    	<hr/>

					    	<div id="optionSelectionSubPart">
					    		<div class="row">

					    			<div class="col-md-2">
					    				<b>Strip:</b>
					    			</div>
					    			<div class="col-md-10">
					    				<label><input type="checkbox" id="option-3-Modules"> Modules</label>
								    	<label><input type="checkbox" id="option-2-Fibers"> Fibers</label>
								    	<label><input type="checkbox" id="option-1-APVs"> APVs</label>
								    	<label><input type="checkbox" id="option-0-Strips"> Strips</label>
					    			</div>

					    		</div>
					    		<div class="row">

					    			<div class="col-md-2">
					    				<b>Pixel:</b>
					    			</div>
					    			<div class="col-md-10">
					    				<label><input type="checkbox" id="option-6-Dead"> Dead ROCs</label>
								    	<label><input type="checkbox" id="option-5-Inefficient"> Inefficient ROCs</label>
								    	<label><input type="checkbox" id="option-4-Occupancy"> Mean Occupancy</label>
					    			</div>

					    		</div>
					    	</div>

					    </div>
					</div>

					<button class="btn btn-warning btn-block" id="plotImages">Start plotting</button>
				</div>

			</div>
		</div>
	</div>
</div>


<div id="plotControlPanel">
	<label class="checkbox-inline">
		<input data-toggle="toggle" type="checkbox" id="careAboutRunLength" data-on="<span class='glyphicon glyphicon-time'></span> Run length" data-off="Run by run", data-size="small" data-offstyle="info" data-width="100">
	</label>
	<label class="checkbox-inline">
		<input data-toggle="toggle" type="checkbox" id="linLogToggle" data-on="Log" data-off="Lin", data-size="small" data-offstyle="info" data-width="100">
	</label>
	<button class="btn btn-default btn-sm" id="resetViewBtn"><span class="glyphicon glyphicon-refresh"></span> Reset View</button>
	<button class="btn btn-default btn-sm" id="plotSaveBtn"><span class="glyphicon glyphicon-floppy-disk"></span> Save Plot</button>
</div>
<div class="container" id="plotContainer">
	<canvas id="thePlot"></canvas>
</div>

</body>

</html>